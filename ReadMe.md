# Docker окружение парсера валют

### Первоначальная настройка

- Создать .env файл
``` cp .env.example .env ```
> Если вы изменили имена контейнеров, то их необходимо исправить в .env файле:
- USER_PHP можно проставить текущего пользователя. 
- UID указан для debian систем. Чтобы узанть свой необходимо выполнить в консоли
``` echo $UID```
Кроме того имена контейнеров необходимо заменить в .env самого фреймворка по пути src/.env
Заменяем строки 
REDIS_HOST=
DB_HOST=

- Необходимо создать .env для фреймворка из example аналогичной командой
``` cp src/.env.example src/.env ```
- Запускаем проект
```make up```
- Устанавливаем пакеты
```make install```
- Необходимо запустить миграции командой 
```make migrate```
- Запускаем супервизор
```make supervisor```
- Заполнить курсы
```make seed```



### Использование
API route ```localhost:4080/api/rate```
метод get, в теле запроса передаём
```
{
	"date":"10.08.2023",
	"currency": "USD"
}
```
или
```
{
	"date":"10.08.2023",
	"currency": "USD",
    "currency_from": "RUR"
}
```


Для выполнения команд в контейнере используем
``` make bash ```
